<h1 class="page-title">Course Management</h1>
<p class="subtitle">Create and manage your courses</p>
<!-- New course button (opens popup) -->



<!-- Create Course Modal -->
<div class="modal-backdrop" *ngIf="showCreateModal" (click)="closeNewCourse()"></div>
<div class="modal" *ngIf="showCreateModal" role="dialog" aria-modal="true">
  <div class="modal-content">
    <button class="modal-close" aria-label="Close" (click)="closeNewCourse()">Ã—</button>
    <h3>Create New Course</h3>

    <label>Course Title</label>
    <input type="text" [(ngModel)]="newCourse.title" placeholder="Enter course title" />

    <label>Description</label>
    <textarea [(ngModel)]="newCourse.description" placeholder="Enter course description"></textarea>

    <div class="modal-actions">
      <button class="btn primary" (click)="addCourse()">Add Course</button>
      <button class="btn" (click)="closeNewCourse()">Cancel</button>
    </div>
  </div>
</div>

<!-- COURSE LIST -->
<div class="card">
  <div class="card-header">
    <h2>Your Courses</h2>
    <button class="btn primary" (click)="openNewCourse()">+ Create New Course</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let course of courses">
        <td>
           <a
              class="course-link"
                  [routerLink]="['/instructor/course-details', course.id]"
          >
            {{ course.title }}
          </a>
        </td>
        <td>{{ course.description }}</td>
        <td>
          <span class="status" [ngClass]="course.status.toLowerCase()">
            {{ course.status }}
          </span>
        </td>
        <td>
          <button
            class="btn success"
            *ngIf="course.status === 'Draft'"
            (click)="publishCourse(course)">
            Publish
          </button>

          <button
            class="btn danger"
            *ngIf="course.status !== 'Archived'"
            (click)="archiveCourse(course)">
            Archive
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

