<h2 class="title">Attendance Management</h2>

<!-- Download Button -->
<button class="btn-download" (click)="downloadReport()">Download Attendance Report</button>

<!-- Current Attendance Table -->
<table class="attendance-table">
  <thead>
    <tr>
      <th>Student</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let student of students">
      <td>{{ student.name }}</td>
      <td>
        <span
          [class.present]="student.status === 'Present'"
          [class.absent]="student.status === 'Absent'"
          [class.pending]="student.status === 'Pending'">
          {{ student.status }}
        </span>
      </td>
      <td>
        <button class="btn-present" (click)="markPresent(student)">Present</button>
        <button class="btn-absent" (click)="markAbsent(student)">Absent</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Attendance History Table -->
<h3>Attendance History</h3>
<table class="attendance-history-table">
  <thead>
    <tr>
      <th>Student</th>
      <th>Date</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngFor="let student of history">
      <tr *ngFor="let record of student.records">
        <td>{{ student.studentName }}</td>
        <td>{{ record.date }}</td>
        <td>
          <span
            [class.present]="record.status === 'Present'"
            [class.absent]="record.status === 'Absent'"
            [class.pending]="record.status === 'Pending'">
            {{ record.status }}
          </span>
        </td>
      </tr>
    </ng-container>
  </tbody>
</table>

